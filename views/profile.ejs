<%- include("./templates/header", {pageName: "Profile" }) %>
<%- include("./templates/navbar", {currentPage: "profile" }) %>

<p class="font-bold text-xl text-center m-4">Profile Page</p>

<div class="max-w-lg flex flex-col justify-center mx-auto mb-5">
    <p class="font-bold text-2xl text-center m-2 my-4">
        <%= session.username %>
    </p>

    <img src="<%= data.profilePictureUrl || '/images/avatar1.jpg' %>"
        class="w-60 mx-auto rounded-full aspect-square border-8 border-zinc-800 intense-shadow">

    <form id="uploadProfilePicForm" action="/uploadProfilePic" method="POST" enctype="multipart/form-data"
        class="flex flex-col items-center my-5">
        <label for="imageInput"
            class="intense-shadow shadow-xl custom-file-upload bg-gray-600 hover:bg-gray-700 text-white my-4 py-4 px-4 rounded-lg cursor-pointer w-full text-center">
            Change Profile Picture
        </label>
        <input type="file" name="image" id="imageInput" class="hidden" enctype="multipart/form-data" required />
        <button type="submit"
            class="shadow-2xl intense-shadow text-slate-200 text-center bg-zinc-800 hover:bg-zinc-700 focus:ring-4 focus:ring-zinc-300 font-medium rounded-lg  focus:outline-none dark:focus:ring-zinc-500 mx-auto my-4 p-5 py-4 w-full">Confirm
            Change</button>
    </form>

    <img src="<%= data.profilePictureUrl || '/images/avatar1.jpg' %>"
        class="w-60 mx-auto rounded-full aspect-square border-8 border-zinc-800 intense-shadow">

    <form id="uploadProfilePicForm" action="/uploadProfilePic" method="POST" enctype="multipart/form-data"
        class="flex flex-col items-center my-5">
        <label for="imageInput"
            class="intense-shadow shadow-xl custom-file-upload bg-gray-600 hover:bg-gray-700 text-white py-4 px-4 rounded-lg cursor-pointer">
            Change Profile Picture
        </label>
        <input type="file" name="image" id="imageInput" class="hidden" enctype="multipart/form-data" required />
        <button type="submit"
            class="shadow-2xl intense-shadow text-slate-200 text-center bg-zinc-800 hover:bg-zinc-700 focus:ring-4 focus:ring-zinc-300 font-medium rounded-lg  focus:outline-none dark:focus:ring-zinc-500 mx-auto my-4 p-5 py-4 w-full">Confirm Change</button>
    </form>

    <div class="flex">
        <div
            class="flex-1 bg-zinc-400 text-center m-3 rounded-lg p-1 py-6 drop-shadow-lg intense-shadow flex flex-col justify-between">
            <p class="font-semibold mb-5">Wins</p>
            <p class="font-semibold">
                <%= data.winCount %>
            </p>
        </div>
        <div
            class="flex-1 bg-zinc-400 text-center m-3 rounded-lg p-1 py-6 drop-shadow-lg intense-shadow flex flex-col justify-between">
            <p class="font-semibold mb-5">Games Played</p>
            <p class="font-semibold">
                <%= data.winCount + data.loseCount %>
            </p>
        </div>
    </div>
</div>

<div class="max-w-lg flex flex-col justify-center mx-auto">
    <div class="flex flex-col m-2">
        <a href="/changePass" id="changePass"
            class="shadow-2xl intense-shadow text-slate-200 text-center bg-zinc-800 hover:bg-zinc-700 focus:ring-4 focus:ring-zinc-300 font-medium rounded-lg  focus:outline-none dark:focus:ring-zinc-500 mx-auto my-4 p-5 py-4 w-full">Change
            Password</a>
        <a href="/logout"
            class="drop-shadow-2xl intense-shadow text-slate-200 text-center bg-red-700 hover:bg-zinc-700 focus:ring-4 focus:ring-zinc-300 font-medium rounded-lg  focus:outline-none dark:focus:ring-zinc-500 mx-auto my-4 p-5 py-4 w-full">Log
            Out</a>
    </div>
</div>
<%- include("./templates/footer", {pageScript: "profile.js" }) %>