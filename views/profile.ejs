<%- include("./templates/header", {pageName: "Profile"}) %>
<%- include("./templates/navbar", {currentPage: "profile"}) %>
<script type="text/javascript"> 
    $.cloudinary.config({ cloud_name: '<%= process.env.CLOUDINARY_CLOUD_NAME %>', secure: true});
</script>
<p class="font-bold text-xl text-center m-3">Your Profile</p>

<img src="<%= data.profilePictureUrl || '/images/avatar1.jpg' %>" class="w-5/6 md:w-60 mx-auto rounded-full aspect-square border-4 border-zinc-800">

<form id="uploadProfilePicForm" action="/uploadProfilePic" method="POST" enctype="multipart/form-data" class="flex flex-col items-center my-5">
    <p><input type="file" name="image" id="imageInput" enctype="multipart/form-data" required/></p>
    <button type="submit" class="text-white text-center bg-zinc-800 hover:bg-zinc-700 focus:ring-4 focus:ring-zinc-300 font-medium rounded-lg py-2.5 focus:outline-none dark:focus:ring-zinc-500 mx-auto my-5 p-5 w-full">Change Profile Picture</button>
</form>
<p class="font-bold text-xl text-center m-2"><%= session.username %></p>
<div class="bg-zinc-400 text-center m-3 rounded-lg p-3">
    <p class="font-semibold text-lg">Wins: <%= data.winCount %></p>
    <p class="font-semibold text-lg">Games Played: <%= data.winCount + data.loseCount %></p>
</div>
<div class="flex flex-col mx-3">
    <a href="#" class="text-white text-center bg-zinc-800 hover:bg-zinc-700 focus:ring-4 focus:ring-zinc-300 font-medium rounded-lg py-2.5 focus:outline-none dark:focus:ring-zinc-500 mx-auto my-5 p-5 w-full">Change Password</a>
</div>
<%- include("./templates/footer", {pageScript: "profile.js"}) %>